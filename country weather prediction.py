# -*- coding: utf-8 -*-
"""weatherprediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/172DBx244KkYRSubYammfDFUBEGVGB7bJ
"""

# Commented out IPython magic to ensure Python compatibility.
import sklearn
import pandas as pd
import numpy as np
import seaborn as sns
from sklearn.linear_model import LinearRegression
import matplotlib.pyplot as plt
# %matplotlib inline

import io
from google.colab import files
uploaded=files.upload()

df=pd.read_csv(io.BytesIO(uploaded['seattle-weather.csv']))
df.head()

df['date'] = pd.to_datetime(df['date'], errors='coerce')
df = df[df['date'].dt.year==2015]
df.head()

df.replace(to_replace ="rain", value = 2, inplace = True)
df.replace(to_replace ="drizzle", value = 3, inplace = True)
df.replace(to_replace ="fog", value = 4, inplace = True)
df.replace(to_replace ="sun", value = 5, inplace = True)
df.replace(to_replace ="snow", value = 1, inplace = True)
sns.lmplot(x='weather',y='wind', data=df, ci=None)

len(df)
df.columns
df = df.drop(columns=['date'])
X=df.drop(columns=['weather'])
y=df['weather']
X

y

model = LinearRegression()
model.fit(X,y)

model.score(X,y)

model.intercept_

model.coef_

model.predict([[10,5,5,5]])

X_test = df.drop(columns=['weather'])
X_test

y_hat = model.predict(X_test)
y_hat

dc=pd.concat([df.reset_index(),pd.Series(y_hat,name='predicted')], axis = 'columns')
dc